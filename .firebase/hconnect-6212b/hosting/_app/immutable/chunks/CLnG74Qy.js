import"./DsnmJJEf.js";import"./JjVbo-H9.js";import{p as W,o as X,a as Y,c as Z,f as ee,b,d as te,g as ae,h as a,s as n,n as K,i as s,j as e,m as E,t as se,u as re,k as o,l as d,v as q}from"./fyz5Uh2_.js";import{i as A}from"./BCgntTHO.js";import{r as P,s as B,b as ie}from"./80MLP8wy.js";import{i as le}from"./BN6ueNTm.js";import{p as F}from"./BUMHQJcL.js";import{s as ne,a as oe}from"./Ccn6MRGn.js";import{c as ce}from"./BDXRC7P3.js";import{u as ve}from"./BTntQMEq.js";import{g as de}from"./DuVrnSUp.js";var ue=ae('<div class="fixed inset-0 z-50"><button type="button" class="absolute inset-0 w-full h-full bg-black/60" aria-label="Close modal"></button> <div class="absolute inset-0 grid place-items-center p-4"><div class="relative z-10 bg-[#2b2d31] text-white rounded-2xl shadow-xl w-full max-w-md p-6" role="dialog" aria-modal="true" aria-labelledby="create-server-title"><h2 id="create-server-title" class="text-xl font-semibold mb-4">Create a server</h2> <div class="space-y-4"><input class="input" placeholder="Server name"/> <div class="flex items-center gap-4 text-sm"><label class="flex items-center gap-2"><input type="radio" name="vis"/> <span>Public</span></label> <label class="flex items-center gap-2"><input type="radio" name="vis"/> <span>Private (invite only)</span></label></div> <div class="flex gap-2"><button type="button" class="btn btn-ghost flex-1">Cancel</button> <button type="button" class="btn btn-primary flex-1 disabled:opacity-50"><!></button></div></div></div></div></div>');function Ce(G,f){W(f,!1);const[H,J]=ne(),_=()=>oe(ve,"$user",H);let y=F(f,"open",12,!1),O=F(f,"onClose",8,()=>{}),l=E(""),c=E(!0),i=E(!1);function u(){y(!1),O()()}const S=r=>{r.key==="Escape"&&y()&&u()};X(()=>{window.addEventListener("keydown",S)}),Y(()=>{window.removeEventListener("keydown",S)});async function z(){if(e(i))return;const r=_()?.uid;if(!(!e(l).trim()||!r))try{d(i,!0);const v=await ce({ownerId:r,name:e(l).trim(),isPublic:e(c),icon:null});u(),await de(`/servers/${v}`)}finally{d(i,!1)}}le();var I=Z(),Q=ee(I);{var R=r=>{var v=ue(),L=a(v),M=n(L,2),N=a(M),$=n(a(N),2),m=a($);P(m);var g=n(m,2),x=a(g),w=a(x);P(w),K(2),s(x);var j=n(x,2),h=a(j);P(h),K(2),s(j),s(g);var D=n(g,2),k=a(D),p=n(k,2),T=a(p);{var U=t=>{var C=q("Creatingâ€¦");b(t,C)},V=t=>{var C=q("Create");b(t,C)};A(T,t=>{e(i)?t(U):t(V,!1)})}s(p),s(D),s($),s(N),s(M),s(v),se(t=>{B(w,e(c)),B(h,!e(c)),k.disabled=e(i),p.disabled=t},[()=>(e(i),e(l),_(),re(()=>e(i)||!e(l).trim()||!_()))]),o("click",L,u),ie(m,()=>e(l),t=>d(l,t)),o("keydown",m,t=>t.key==="Enter"?z():null),o("change",w,()=>d(c,!0)),o("change",h,()=>d(c,!1)),o("click",k,u),o("click",p,z),b(r,v)};A(Q,r=>{y()&&r(R)})}b(G,I),te(),J()}export{Ce as N};
