import"../chunks/DsnmJJEf.js";import"../chunks/JjVbo-H9.js";import{p as z,y as I,z as P,g as T,j as r,k as q,b as B,d as C,h as e,s as t,l as p,m as y,i}from"../chunks/fyz5Uh2_.js";import{b as g,r as x}from"../chunks/80MLP8wy.js";import{i as E}from"../chunks/BN6ueNTm.js";import{s as F,a as G}from"../chunks/Ccn6MRGn.js";import{u as H,d as w,a as L,s as J,i as U,e as K}from"../chunks/BTntQMEq.js";import{d as N}from"../chunks/BcR-18cJ.js";import{L as M}from"../chunks/BDXRC7P3.js";var O=T('<div class="grid grid-cols-[72px_1fr] min-h-dvh text-white"><!> <div class="bg-[#313338] p-6"><h1 class="text-xl font-semibold mb-4">User Settings</h1> <div class="surface p-4 max-w-xl space-y-3"><label class="block"><div class="mb-1 text-sm text-white/70">Display name</div> <input class="input"/></label> <label class="block"><div class="mb-1 text-sm text-white/70">Avatar URL</div> <input class="input"/></label> <button class="btn btn-primary">Save</button></div></div></div>');function ia(R,$){z($,!1);const[k,A]=F(),a=()=>G(H,"$user",k);let o=y(""),l=y("");async function D(){const s=N(),m=w(s,"profiles",a().uid);(await L(m)).exists()||await J(m,{displayName:a().displayName??"New User",email:a().email,photoURL:a().photoURL??null,createdAt:U(),lastActiveAt:U()});const h=(await L(m)).data();p(o,h.displayName??""),p(l,h.photoURL??"")}async function S(){const s=N();await K(w(s,"profiles",a().uid),{displayName:r(o),photoURL:r(l)}),alert("Saved.")}I(()=>a(),()=>{a()&&D()}),P(),E();var c=O(),v=e(c);M(v,{activeServerId:null});var u=t(v,2),b=t(e(u),2),n=e(b),f=t(e(n),2);x(f),i(n);var d=t(n,2),_=t(e(d),2);x(_),i(d);var j=t(d,2);i(b),i(u),i(c),g(f,()=>r(o),s=>p(o,s)),g(_,()=>r(l),s=>p(l,s)),q("click",j,S),B(R,c),C(),A()}export{ia as component};
